/* === Data Table Styles === */
@layer components {

    /* Data Table */
    .data-table {
        border: 1px solid var(--border-soft);
        border-radius: var(--radius-lg);
        background-color: var(--bg-card);
        @apply shadow-sm;
        overflow: visible;
    }

    .unified-data-row {
        display: grid;
        align-items: center;
        border-bottom: 1px solid var(--border-soft);
        background-color: var(--bg-card);
        transition: background-color 0.15s ease;
    }

    .data-header {
        background-color: var(--bg-sidebar);
        border-bottom: 1px solid var(--border-strong);
        @apply font-bold text-xs uppercase tracking-wider text-slate-500;
        position: sticky;
        top: 0;
        z-index: 10;
    }

    .data-header .data-cell {
        @apply py-3 whitespace-nowrap;
        position: relative;
        border-right: 1px solid var(--border-soft);
    }

    .table-header-sticky {
        position: sticky;
        top: 0;
        z-index: 10;
        background: rgba(248, 250, 252, 0.95);
        backdrop-filter: blur(8px);
    }

    .table-header-sticky th {
        @apply bg-slate-50;
        position: sticky;
        top: 0;
        z-index: 11;
    }

    .table-sticky {
        border-collapse: separate;
        border-spacing: 0;
    }

    .sort-btn {
        @apply flex items-center gap-1 text-left w-full text-xs font-bold text-slate-500 uppercase tracking-wider;
    }

    .sort-btn:hover {
        @apply text-blue-600;
    }

    .sort-indicator {
        @apply text-[10px] text-slate-400;
    }

    .unified-data-row:not(.data-header):nth-child(even) {
        background-color: var(--bg-sidebar);
    }

    .unified-data-row:not(.data-header):hover {
        background-color: rgba(220, 252, 231, 0.5) !important;
        /* 淺綠色 + 透明度 50% */
        @apply transition-colors duration-75;
    }

    .unified-data-row.is-selected {
        background-color: #eff6ff !important;
        /* var(--accent-soft) */
        box-shadow: inset 4px 0 0 0 #3b82f6 !important;
    }

    .data-cell {
        @apply px-4 py-2.5 flex items-center text-sm text-slate-700 overflow-hidden min-h-[48px] leading-snug;
        box-sizing: border-box;
        word-break: break-word;
        border-right: 1px solid var(--border-soft);
    }

    .data-cell:last-child {
        border-right: none;
    }

    /* Tooltip / Action Buttons */
    .action-btn-sm {
        @apply w-8 h-8 rounded-lg flex items-center justify-center text-lg transition-all duration-200 cursor-pointer;
        background-color: transparent !important;
        border: none !important;
        box-shadow: none !important;
        color: var(--text-muted);
    }

    .action-btn-sm:hover {
        background-color: var(--bg-hover) !important;
        transform: scale(1.1);
    }

    .action-btn-sm.primary {
        @apply text-blue-600;
    }

    .action-btn-sm.primary:hover {
        @apply bg-blue-50/50 !important;
    }

    .action-btn-sm.danger {
        @apply text-rose-500;
    }

    .action-btn-sm.danger:hover {
        @apply bg-rose-50/50 !important;
    }

    .action-btn-sm.success {
        @apply text-emerald-600;
    }

    .action-btn-sm.success:hover {
        @apply bg-emerald-50/50 !important;
    }

    .unified-data-row.is-zebra {
        background-color: rgba(226, 232, 240, 0.7);
    }

    .unified-data-row.is-zebra .data-cell {
        background-color: transparent;
    }

    .unified-data-row:not(.data-header) .data-cell.data-actions {
        @apply justify-end gap-2;
    }

    /* Table layout grid lines */
    .table-sticky th,
    .table-sticky td {
        @apply border-b border-slate-300;
        box-sizing: border-box;
    }

    .table-sticky th:not(:last-child),
    .table-sticky td:not(:last-child) {
        @apply border-r border-slate-300;
    }

    .data-table.is-compact .data-cell {
        @apply py-1 min-h-[32px] text-xs;
    }

    .data-table.is-compact .data-header .data-cell {
        @apply py-2;
    }

    .data-input {
        @apply w-full h-8 px-2 rounded border border-slate-200 text-sm focus:outline-none focus:border-blue-500;
    }

    .data-empty {
        @apply text-center py-8 text-slate-400 text-sm;
    }

    .status-pill {
        @apply inline-flex items-center px-2 py-0.5 rounded-full text-[11px] font-semibold border;
        letter-spacing: 0.02em;
    }

    .status-pill.active {
        @apply border-emerald-200 text-emerald-700 bg-emerald-50;
    }

    .status-pill.inactive {
        @apply border-slate-200 text-slate-500 bg-slate-100;
    }

    /* Create Row */
    .create-row {
        @apply flex gap-4 items-end py-2 border-b border-slate-200;
    }

    .create-fields {
        @apply w-full;
    }

    .create-fields .select-input,
    .create-fields .text-input {
        @apply w-full h-9 py-1 px-2 text-sm;
    }

    /* Resizer */
    .col-resizer {
        position: absolute;
        right: 0;
        top: 0;
        bottom: 0;
        width: 10px;
        cursor: col-resize;
        z-index: 20;
        background-color: transparent;
        transition: background-color 0.2s;
    }

    .col-resizer:hover {
        background-color: rgba(59, 130, 246, 0.3);
    }

    .col-resizer:active {
        background-color: rgba(37, 99, 235, 0.5);
    }
}