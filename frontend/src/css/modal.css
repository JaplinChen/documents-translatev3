/* === Modal Styles === */
@layer components {

    /* Modal Overlay (Glassy) */
    .modal-overlay,
    .modal-backdrop {
        @apply fixed inset-0 bg-slate-900/40 backdrop-blur-md z-50 flex items-center justify-center;
        animation: fadeIn 0.3s ease-out;
    }

    .modal {
        @apply bg-white backdrop-blur-xl rounded-2xl p-6 shadow-2xl border border-white/50 flex flex-col gap-2;
        width: min(720px, 94vw);
        max-height: 85vh;
        animation: slideUp 0.4s cubic-bezier(0.16, 1, 0.3, 1);
    }

    /* Draggable Modal */
    .modal.is-draggable {
        position: absolute;
        resize: both;
        overflow: auto;
        min-width: 600px;
        width: min(1000px, 96vw);
        min-height: 400px;
        max-width: 98vw;
        max-height: 95vh;
    }

    .modal.is-draggable .modal-header.draggable-handle {
        cursor: grab;
        user-select: none;
    }

    .modal.is-draggable .modal-header.draggable-handle:active {
        cursor: grabbing;
    }

    .modal-content {
        @apply bg-white backdrop-blur-xl rounded-3xl shadow-2xl overflow-hidden flex flex-col border border-white/50;
        width: min(900px, 94vw);
        height: 80vh;
        animation: slideUp 0.4s cubic-bezier(0.16, 1, 0.3, 1);
    }

    .modal-wide {
        @apply max-w-5xl w-[92vw];
    }

    .modal-header {
        @apply flex justify-between items-center pb-2 border-b border-slate-200;
    }

    .modal-header.fancy {
        @apply flex justify-between items-center pb-4 mb-4 border-b border-slate-200;
    }

    .modal-header.fancy h3 {
        @apply text-xl font-bold text-slate-800 m-0;
    }

    .modal-body {
        @apply py-0 px-1 overflow-y-auto;
    }

    .modal-tabs {
        @apply flex gap-1 bg-slate-100 p-1 rounded-xl mb-0 self-start;
    }

    .tab-btn {
        @apply px-4 py-2 rounded-lg text-sm font-semibold transition-all duration-200 text-slate-500;
    }

    .tab-btn:hover {
        @apply text-slate-700 bg-slate-200/50;
    }

    .tab-btn.is-active {
        @apply bg-white text-blue-600 shadow-sm;
    }

    .header-title {
        @apply flex-1;
    }

    .header-title h3 {
        @apply text-xl font-bold text-slate-800 m-0;
    }

    .header-actions {
        @apply flex gap-2 items-center;
    }

    /* Settings Shell */
    .settings-shell {
        @apply flex flex-1 min-h-0;
    }

    .settings-sidebar {
        @apply w-60 bg-slate-50 border-r border-slate-200 p-5 flex flex-col gap-2;
    }

    .settings-main {
        @apply flex-1 p-8 overflow-y-auto;
    }

    .settings-content {
        @apply flex flex-col gap-6;
    }

    /* Sidebar Components */
    .sidebar-title {
        @apply text-sm font-bold text-slate-800 uppercase tracking-wider mb-4;
    }

    .sidebar-tabs {
        @apply grid grid-cols-2 gap-2 pb-4 mb-4 border-b border-slate-200;
    }

    .sidebar-tab {
        @apply flex items-center justify-center px-2 py-2 text-[11px] font-bold rounded-xl cursor-pointer transition-all;
        @apply bg-slate-100 text-slate-500 border border-slate-200/50 hover:bg-white hover:text-slate-700 hover:shadow-sm;
    }

    .sidebar-tab.active {
        @apply bg-blue-600 text-white;
    }

    .sidebar-list {
        @apply flex flex-col gap-1;
    }

    .sidebar-item {
        @apply flex items-center gap-3 px-3 py-2.5 rounded-xl text-sm font-medium text-slate-500 cursor-pointer transition-all duration-200;
        @apply hover:bg-white hover:text-slate-700;
    }

    .sidebar-item.active {
        @apply bg-white text-blue-600 shadow-sm font-semibold;
    }

    .sidebar-icon {
        @apply w-8 h-8 flex items-center justify-center text-lg rounded-lg bg-slate-100;
    }

    .sidebar-text {
        @apply flex flex-col;
    }

    .sidebar-name {
        @apply text-sm font-semibold text-slate-700;
    }

    .sidebar-sub {
        @apply text-xs text-slate-400;
    }

    .sidebar-empty {
        @apply text-sm text-slate-400 py-4 text-center;
    }

    /* Config Fields */
    .config-field {
        @apply flex flex-col gap-2;
    }

    .config-field.compact {
        @apply gap-1.5;
    }

    .config-field label {
        @apply text-sm font-semibold text-slate-700;
    }

    .config-field input[type="text"],
    .config-field input[type="password"],
    .config-field select {
        @apply w-full h-10 px-3 rounded-lg border border-slate-200 bg-white text-sm text-slate-800;
        @apply focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100 transition-all duration-200;
    }

    .model-select {
        @apply w-full h-10 px-3 rounded-lg border border-slate-200 bg-white text-sm text-slate-800 focus:outline-none focus:border-blue-500;
    }

    .color-grid {
        @apply grid grid-cols-3 gap-4;
    }

    .color-item {
        @apply flex flex-col gap-2;
    }

    .color-item span {
        @apply text-sm font-medium text-slate-600;
    }

    /* Prompt Editor */
    .prompt-editor-container {
        @apply flex flex-col gap-4;
    }

    .prompt-selector-row {
        @apply flex items-center gap-3;
    }

    .prompt-selector-label {
        @apply text-sm font-semibold text-slate-700 whitespace-nowrap;
    }

    .prompt-template-select {
        @apply flex-1 h-10 px-3 rounded-lg border border-slate-200 bg-white text-sm focus:outline-none focus:border-blue-500;
    }

    .prompt-textarea {
        @apply w-full min-h-64 p-4 rounded-xl border border-slate-200 bg-slate-50 text-sm font-mono leading-relaxed resize-none;
        @apply focus:outline-none focus:border-blue-500 focus:bg-white;
    }
}

/* === Animations === */
@keyframes fadeIn {
    from {
        opacity: 0;
    }

    to {
        opacity: 1;
    }
}

@keyframes slideUp {
    from {
        transform: translateY(20px);
        opacity: 0;
    }

    to {
        transform: translateY(0);
        opacity: 1;
    }
}